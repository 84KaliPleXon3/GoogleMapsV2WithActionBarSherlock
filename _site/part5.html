<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Googlemapsv2withactionbarsherlock : This is a skeleton project for using Google Maps v2 on Android with ActionBarSherlock 4.3.1" />

    <link rel="stylesheet" type="text/css" media="screen" href="./stylesheets/stylesheet2.css">

    <title>Googlemapsv2withactionbarsherlock</title>
  </head>

  <body>
  
<a href="https://github.com/ddewaele/GoogleMapsV2WithActionBarSherlock"><img style="position: absolute; top: 0; right: 0; border: 0; -webkit-box-shadow: 0 0 0; box-shadow: 0 0 0; padding:0; margin:0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>

    <!-- HEADER -->
    <div id="header_wrap" class="outer" style="background: url(./images/backdrop.png) center no-repeat;
">

          <h1 id="project_title"><a href="./" style="color:#FFFFFF">Maps V2 Android</a></h1>
          <div id="project_tagline">
              Guide for the new Android Maps V2 API.
              Includes a sample app, full source code, screencast and guides.
          </div>

        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ddewaele/GoogleMapsV2WithActionBarSherlock">View on GitHub</a>


            <!--
            <section id="downloads">
              
              <a class="zip_download_link" href="https://github.com/ddewaele/GoogleMapsV2WithActionBarSherlock/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ddewaele/GoogleMapsV2WithActionBarSherlock/tarball/master">Download this project as a tar.gz file</a>
            
            </section>
            -->
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
	<h2 id='using_google_apis_on_your_map__directions_and_places'>Using Google APIs on your map : Directions and Places</h2>

<p>In the following part I&#8217;ll show you howto integrate with 2 popular Google APIs that you can use to enrich your Maps experience, the <code>Directions API</code> and the <code>Places API</code>.</p>

<p>The goal is to create a simple Directions application where the user can enter an origin and a destination. As the user is typing the origin / destination, he&#8217;ll receive hints from the Google Places API (autocompletion). After the user has entered an origin and a destination, we&#8217;ll show the directions on a map by drawing a polyline and animating along the path.</p>
<iframe frameborder='0' width='560' height='315' src='//www.youtube.com/embed/jen6zti4L3k?rel=0'> </iframe>
<p>We&#8217;re going to be using AsyncTask to perform the HTTP processing in the background off the main thread. For the actual HTTP communication we&#8217;re going to be using the <a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a>.</p>

<h3 id='the_google_directions_api'>The Google Directions API</h3>

<p>The Google Directions API is a service that calculates directions between locations using an HTTP request. We&#8217;ll use it to draw a path (a polyline) between 2 points (origin and destination).</p>

<h3 id='the_google_places_api'>The Google Places API</h3>

<p>The Google Places API is a service that returns information about Places — defined within this API as establishments, geographic locations, or prominent points of interest — using HTTP requests. Place requests specify locations as latitude/longitude coordinates. We&#8217;re going to be using a small part of the Google Places API, namely the Places Autocomplete API.</p>

<h3 id='places_autocomplete'>Places Autocomplete</h3>

<p>The Google Places Autocomplete API is a web service that returns Place information based on text search terms, and, optionally, geographic bounds. The API can be used to provide autocomplete functionality for text-based geographic searches, by returning Places such as businesses, addresses, and points of interest as a user types.</p>

<h3 id='directions_input'>Directions input</h3>

<p>We&#8217;re going to use a GridLayout to build our directions input layout. We add a couple of labels and 2 AutoCompleteTextView components to the layout. The AutoCompleteTextView components will be used to pull in data from the Google Places API as the user is typing.</p>
<div class='highlight'><pre><code class='xml'><span class='nt'>&lt;android.support.v7.widget.GridLayout</span> <span class='na'>xmlns:android=</span><span class='s'>&quot;http://schemas.android.com/apk/res/android&quot;</span>
	<span class='na'>xmlns:app=</span><span class='s'>&quot;http://schemas.android.com/apk/res-auto&quot;</span>
	<span class='na'>android:layout_width=</span><span class='s'>&quot;match_parent&quot;</span>
	<span class='na'>android:layout_height=</span><span class='s'>&quot;wrap_content&quot;</span>
	<span class='na'>android:alignmentMode=</span><span class='s'>&quot;alignBounds&quot;</span>
	<span class='na'>android:orientation=</span><span class='s'>&quot;horizontal&quot;</span>
	<span class='na'>android:padding=</span><span class='s'>&quot;16dp&quot;</span>
	<span class='na'>android:useDefaultMargins=</span><span class='s'>&quot;true&quot;</span>
	<span class='na'>app:columnCount=</span><span class='s'>&quot;1&quot;</span> <span class='nt'>&gt;</span>

	<span class='nt'>&lt;TextView</span>
		<span class='na'>android:id=</span><span class='s'>&quot;@+id/from_label&quot;</span>
		<span class='na'>app:layout_gravity=</span><span class='s'>&quot;fill_horizontal&quot;</span>
		<span class='na'>android:text=</span><span class='s'>&quot;@string/from&quot;</span>
		<span class='na'>android:textColor=</span><span class='s'>&quot;?android:textColorSecondary&quot;</span> <span class='nt'>/&gt;</span>

	<span class='nt'>&lt;AutoCompleteTextView</span>
		<span class='na'>android:id=</span><span class='s'>&quot;@+id/from&quot;</span>
		<span class='na'>android:layout_width=</span><span class='s'>&quot;fill_parent&quot;</span>
		<span class='na'>android:layout_height=</span><span class='s'>&quot;wrap_content&quot;</span>
		<span class='na'>app:layout_gravity=</span><span class='s'>&quot;fill_horizontal&quot;</span>
		<span class='na'>android:completionThreshold=</span><span class='s'>&quot;3&quot;</span> <span class='nt'>/&gt;</span>

	<span class='nt'>&lt;TextView</span>
		<span class='na'>android:id=</span><span class='s'>&quot;@+id/to_label&quot;</span>
		<span class='na'>app:layout_gravity=</span><span class='s'>&quot;fill_horizontal&quot;</span>
		<span class='na'>android:text=</span><span class='s'>&quot;@string/to&quot;</span>
		<span class='na'>android:textColor=</span><span class='s'>&quot;?android:textColorSecondary&quot;</span> <span class='nt'>/&gt;</span>

	<span class='nt'>&lt;AutoCompleteTextView</span>
		<span class='na'>android:id=</span><span class='s'>&quot;@+id/to&quot;</span>
		<span class='na'>android:layout_width=</span><span class='s'>&quot;fill_parent&quot;</span>
		<span class='na'>android:layout_height=</span><span class='s'>&quot;wrap_content&quot;</span>
		<span class='na'>app:layout_gravity=</span><span class='s'>&quot;fill_horizontal&quot;</span>
		<span class='na'>android:completionThreshold=</span><span class='s'>&quot;3&quot;</span> <span class='nt'>/&gt;</span>

	<span class='nt'>&lt;Button</span>
		<span class='na'>android:id=</span><span class='s'>&quot;@+id/load_directions&quot;</span>
		<span class='na'>android:layout_columnSpan=</span><span class='s'>&quot;@integer/create_account_pane_column_count&quot;</span>
		<span class='na'>app:layout_gravity=</span><span class='s'>&quot;fill_horizontal&quot;</span>
		<span class='na'>android:text=</span><span class='s'>&quot;@string/load_directions&quot;</span> <span class='nt'>/&gt;</span>

<span class='nt'>&lt;/android.support.v7.widget.GridLayout&gt;</span>
</code></pre></div>
<p>In our Activity, we hook up our origin and destination AutoCompleteTextView components, set some default values, and attach a <code>PlacesAutoCompleteAdapter</code> The <code>PlacesAutoCompleteAdapter</code> is responsible for delivering the places associated with the text that the user has keyed in.</p>
<div class='highlight'><pre><code class='java'><span class='n'>from</span> <span class='o'>=</span> <span class='o'>(</span><span class='n'>AutoCompleteTextView</span><span class='o'>)</span> <span class='n'>findViewById</span><span class='o'>(</span><span class='n'>R</span><span class='o'>.</span><span class='na'>id</span><span class='o'>.</span><span class='na'>from</span><span class='o'>);</span>
<span class='n'>to</span> <span class='o'>=</span> <span class='o'>(</span><span class='n'>AutoCompleteTextView</span><span class='o'>)</span> <span class='n'>findViewById</span><span class='o'>(</span><span class='n'>R</span><span class='o'>.</span><span class='na'>id</span><span class='o'>.</span><span class='na'>to</span><span class='o'>);</span>

<span class='n'>from</span><span class='o'>.</span><span class='na'>setText</span><span class='o'>(</span><span class='s'>&quot;Fisherman&#39;s Wharf, San Francisco, CA, United States&quot;</span><span class='o'>);</span>
<span class='n'>to</span><span class='o'>.</span><span class='na'>setText</span><span class='o'>(</span><span class='s'>&quot;The Moscone Center, Howard Street, San Francisco, CA, United States&quot;</span><span class='o'>);</span>

<span class='n'>from</span><span class='o'>.</span><span class='na'>setAdapter</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>PlacesAutoCompleteAdapter</span><span class='o'>(</span><span class='k'>this</span><span class='o'>,</span> <span class='n'>android</span><span class='o'>.</span><span class='na'>R</span><span class='o'>.</span><span class='na'>layout</span><span class='o'>.</span><span class='na'>simple_dropdown_item_1line</span><span class='o'>));</span>
<span class='n'>to</span><span class='o'>.</span><span class='na'>setAdapter</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>PlacesAutoCompleteAdapter</span><span class='o'>(</span><span class='k'>this</span><span class='o'>,</span> <span class='n'>android</span><span class='o'>.</span><span class='na'>R</span><span class='o'>.</span><span class='na'>layout</span><span class='o'>.</span><span class='na'>simple_dropdown_item_1line</span><span class='o'>));</span>
</code></pre></div>
<p>The <code>PlacesAutoCompleteAdapter</code> is an exact copy (rip-off) of the one that can be found in the excellent <a title='Adding Autocomplete to your Android App' href='https://developers.google.com/places/training/autocomplete-android'>Adding Autocomplete to your Android App</a> article.</p>

<p>It looks like this :</p>
<div class='highlight'><pre><code class='java'><span class='kd'>private</span> <span class='kd'>class</span> <span class='nc'>PlacesAutoCompleteAdapter</span> <span class='kd'>extends</span> <span class='n'>ArrayAdapter</span><span class='o'>&lt;</span><span class='n'>String</span><span class='o'>&gt;</span> <span class='kd'>implements</span> <span class='n'>Filterable</span> <span class='o'>{</span>
	<span class='kd'>private</span> <span class='n'>ArrayList</span><span class='o'>&lt;</span><span class='n'>String</span><span class='o'>&gt;</span> <span class='n'>resultList</span><span class='o'>;</span>
	
	<span class='kd'>public</span> <span class='nf'>PlacesAutoCompleteAdapter</span><span class='o'>(</span><span class='n'>Context</span> <span class='n'>context</span><span class='o'>,</span> <span class='kt'>int</span> <span class='n'>textViewResourceId</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='kd'>super</span><span class='o'>(</span><span class='n'>context</span><span class='o'>,</span> <span class='n'>textViewResourceId</span><span class='o'>);</span>
	<span class='o'>}</span>
	
	<span class='nd'>@Override</span>
	<span class='kd'>public</span> <span class='kt'>int</span> <span class='nf'>getCount</span><span class='o'>()</span> <span class='o'>{</span>
		<span class='k'>return</span> <span class='n'>resultList</span><span class='o'>.</span><span class='na'>size</span><span class='o'>();</span>
	<span class='o'>}</span>

	<span class='nd'>@Override</span>
	<span class='kd'>public</span> <span class='n'>String</span> <span class='nf'>getItem</span><span class='o'>(</span><span class='kt'>int</span> <span class='n'>index</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='k'>return</span> <span class='n'>resultList</span><span class='o'>.</span><span class='na'>get</span><span class='o'>(</span><span class='n'>index</span><span class='o'>);</span>
	<span class='o'>}</span>

	<span class='nd'>@Override</span>
	<span class='kd'>public</span> <span class='n'>Filter</span> <span class='nf'>getFilter</span><span class='o'>()</span> <span class='o'>{</span>
		<span class='n'>Filter</span> <span class='n'>filter</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>Filter</span><span class='o'>()</span> <span class='o'>{</span>
			<span class='nd'>@Override</span>
			<span class='kd'>protected</span> <span class='n'>FilterResults</span> <span class='nf'>performFiltering</span><span class='o'>(</span><span class='n'>CharSequence</span> <span class='n'>constraint</span><span class='o'>)</span> <span class='o'>{</span>
				<span class='n'>FilterResults</span> <span class='n'>filterResults</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>FilterResults</span><span class='o'>();</span>
				<span class='k'>if</span> <span class='o'>(</span><span class='n'>constraint</span> <span class='o'>!=</span> <span class='kc'>null</span><span class='o'>)</span> <span class='o'>{</span>
					<span class='c1'>// Retrieve the autocomplete results.</span>
					<span class='n'>resultList</span> <span class='o'>=</span> <span class='n'>autocomplete</span><span class='o'>(</span><span class='n'>constraint</span><span class='o'>.</span><span class='na'>toString</span><span class='o'>());</span>
					
					<span class='c1'>// Assign the data to the FilterResults</span>
					<span class='n'>filterResults</span><span class='o'>.</span><span class='na'>values</span> <span class='o'>=</span> <span class='n'>resultList</span><span class='o'>;</span>
					<span class='n'>filterResults</span><span class='o'>.</span><span class='na'>count</span> <span class='o'>=</span> <span class='n'>resultList</span><span class='o'>.</span><span class='na'>size</span><span class='o'>();</span>
				<span class='o'>}</span>
				<span class='k'>return</span> <span class='n'>filterResults</span><span class='o'>;</span>
			<span class='o'>}</span>

			<span class='nd'>@Override</span>
			<span class='kd'>protected</span> <span class='kt'>void</span> <span class='nf'>publishResults</span><span class='o'>(</span><span class='n'>CharSequence</span> <span class='n'>constraint</span><span class='o'>,</span> <span class='n'>FilterResults</span> <span class='n'>results</span><span class='o'>)</span> <span class='o'>{</span>
				<span class='k'>if</span> <span class='o'>(</span><span class='n'>results</span> <span class='o'>!=</span> <span class='kc'>null</span> <span class='o'>&amp;&amp;</span> <span class='n'>results</span><span class='o'>.</span><span class='na'>count</span> <span class='o'>&gt;</span> <span class='mi'>0</span><span class='o'>)</span> <span class='o'>{</span>
					<span class='n'>notifyDataSetChanged</span><span class='o'>();</span>
				<span class='o'>}</span>
				<span class='k'>else</span> <span class='o'>{</span>
					<span class='n'>notifyDataSetInvalidated</span><span class='o'>();</span>
				<span class='o'>}</span>
			<span class='o'>}};</span>
		<span class='k'>return</span> <span class='n'>filter</span><span class='o'>;</span>
	<span class='o'>}</span>
<span class='o'>}</span>
</code></pre></div>
<p>The actual activity looks like this:</p>

<p><img alt='directions_input' src='https://dl.dropboxusercontent.com/u/13246619/Blog%20Articles/GoogleMapsV2/directions_input.png' /></p>

<p>As the user is typing, he&#8217;ll get the hints from the Google Places Autocompletion / AutoCompleteTextView:</p>

<p><img alt='google-places-autocomplete' src='https://dl.dropboxusercontent.com/u/13246619/Blog%20Articles/GoogleMapsV2/google-places-autocomplete.png' /></p>

<p>The grunt of the work happens in the <code>autocomplete</code> method. I&#8217;ve used a different approach for that one as I wanted to use the <a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a> to connect to the Google API and parse the results, as opposed to using a lower-level <code>HttpURLConnection</code> to make the HTTP connection, and parsing the JSON response using a <code>JSONObject</code>.</p>

<h3 id='communicating_the_the_google_services'>Communicating the the Google Services</h3>

<p>The <a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a> provides an easy and convenient way to interact with JSON based webservices like the ones we&#8217;ll be discussing today</p>

<p>We start our code by creating an <code>HttpTransport</code> and a <code>JsonFactory</code>. The type of <code>HttpTransport</code> that is to be used depends on the version of the target Android environment.</p>

<p>Application targeted at Gingerbread or higher should use NetHttpTransport. NetHttpTransport is built into the Android SDK and is found in all Java SDKs. In earlier version of Android SDKs the implementation of HttpURLConnection/NetHttpTransport was buggy, and using the ApacheHttpTransport was preferred. If you are targeting multiple Android API levels, simply call AndroidHttp.newCompatibleTransport() and it will decide of these two to use based on the Android SDK level.</p>

<p>The JSON Factory is the low-level JSON library implementation based on Jackson 2, needed to parse the JSON responses.</p>
<div class='highlight'><pre><code class='java'>	
<span class='kd'>static</span> <span class='kd'>final</span> <span class='n'>HttpTransport</span> <span class='n'>HTTP_TRANSPORT</span> <span class='o'>=</span> <span class='n'>AndroidHttp</span><span class='o'>.</span><span class='na'>newCompatibleTransport</span><span class='o'>();</span>
<span class='kd'>static</span> <span class='kd'>final</span> <span class='n'>JsonFactory</span> <span class='n'>JSON_FACTORY</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>JacksonFactory</span><span class='o'>();</span>
</code></pre></div>
<p>We&#8217;ll use the <a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a> for both the Places Autocompletion API call as well as for the Directions API call.</p>

<h3 id='places_autocompletion_api'>Places Autocompletion API</h3>

<p>Using our HttpTransport, we create an <code>HttpRequestFactory</code> (responsible for setting the parser) that we&#8217;ll use to build our actual HTTP requests.</p>
<div class='highlight'><pre><code class='java'><span class='n'>HttpRequestFactory</span> <span class='n'>requestFactory</span> <span class='o'>=</span> <span class='n'>HTTP_TRANSPORT</span><span class='o'>.</span><span class='na'>createRequestFactory</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>HttpRequestInitializer</span><span class='o'>()</span> <span class='o'>{</span>
		 <span class='nd'>@Override</span>
		 <span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>initialize</span><span class='o'>(</span><span class='n'>HttpRequest</span> <span class='n'>request</span><span class='o'>)</span> <span class='o'>{</span>
			 <span class='n'>request</span><span class='o'>.</span><span class='na'>setParser</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>JsonObjectParser</span><span class='o'>(</span><span class='n'>JSON_FACTORY</span><span class='o'>));</span>
		 <span class='o'>}</span>
	 <span class='o'>}</span>
<span class='o'>);</span>
</code></pre></div>
<p>But before we can make a request, we need to build a URL. this is done using the <code>GenericUrl</code> object. We pass in an encoded URL and append whatever parameters we need. In this case, we provide an input, API key and sensor value.</p>
<div class='highlight'><pre><code class='java'><span class='n'>GenericUrl</span> <span class='n'>url</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>GenericUrl</span><span class='o'>(</span><span class='n'>PLACES_API_AUTOCOMPLETION</span><span class='o'>);</span>
<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;input&quot;</span><span class='o'>,</span> <span class='n'>input</span><span class='o'>);</span>
<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;key&quot;</span><span class='o'>,</span> <span class='n'>PLACES_API_KEY</span><span class='o'>);</span>
<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;sensor&quot;</span><span class='o'>,</span><span class='kc'>false</span><span class='o'>);</span>
</code></pre></div>
<p>As this is a simple REST call, you can enter the following URL in your browser to see what it returns</p>

<pre><code>https://maps.googleapis.com/maps/api/place/autocomplete/json?input=Fisher&amp;key=[YOUR API KEY]&amp;sensor=false</code></pre>

<p>Now that we have create a URL, we can go ahead and build a GET request with it.</p>
<div class='highlight'><pre><code class='java'><span class='n'>HttpRequest</span> <span class='n'>request</span> <span class='o'>=</span> <span class='n'>requestFactory</span><span class='o'>.</span><span class='na'>buildGetRequest</span><span class='o'>(</span><span class='n'>url</span><span class='o'>);</span>	
</code></pre></div>
<p>This will give us an <code>HttpRequest</code> that we can execute by calling its <code>execute()</code> method. This will give us the <code>HttpResponse</code>.</p>
<div class='highlight'><pre><code class='java'><span class='n'>HttpResponse</span> <span class='n'>httpResponse</span> <span class='o'>=</span> <span class='n'>request</span><span class='o'>.</span><span class='na'>execute</span><span class='o'>();</span>
</code></pre></div>
<p>The cool thing about the <a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a> is that it can parse the response properly and take care of the JSON response handling for us. This releaves us from the burden of writing our own JSON handling.</p>

<p>When we call the <code>parseAs()</code> method on the HttpResponse object, we can provide a java class that the library will use to convert the JSON response. The <code>parseAs()</code> method will return an object of that type that we can use the parse the response in a very straightforward way without having to worry about using JSON directly.</p>
<div class='highlight'><pre><code class='java'><span class='n'>PlacesResult</span> <span class='n'>directionsResult</span> <span class='o'>=</span> <span class='n'>httpResponse</span><span class='o'>.</span><span class='na'>parseAs</span><span class='o'>(</span><span class='n'>PlacesResult</span><span class='o'>.</span><span class='na'>class</span><span class='o'>);</span>

<span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Prediction</span><span class='o'>&gt;</span> <span class='n'>predictions</span> <span class='o'>=</span> <span class='n'>directionsResult</span><span class='o'>.</span><span class='na'>predictions</span><span class='o'>;</span>
<span class='k'>for</span> <span class='o'>(</span><span class='n'>Prediction</span> <span class='n'>prediction</span> <span class='o'>:</span> <span class='n'>predictions</span><span class='o'>)</span> <span class='o'>{</span>
	<span class='n'>resultList</span><span class='o'>.</span><span class='na'>add</span><span class='o'>(</span><span class='n'>prediction</span><span class='o'>.</span><span class='na'>description</span><span class='o'>);</span>
<span class='o'>}</span>
</code></pre></div>
<p>So how will the library to the mapping from JSON to our Java object ? Well, we can provide hints in our <code>PlacesResult</code> class (and child classes) using the <code>@Key</code> annotation.</p>

<p>Remember the Autocompletion API returned a JSON string like this (abbreviated) :</p>
<div class='highlight'><pre><code class='json'><span class='p'>{</span>
   <span class='nt'>&quot;predictions&quot;</span> <span class='p'>:</span> <span class='p'>[</span>
	  <span class='p'>{</span>
		 <span class='nt'>&quot;description&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;Fishers, IN, United States&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;id&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;51f9b9731d3996a2e3919fbc0b8d7c52a215b918&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;matched_substrings&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;reference&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;CkQy...&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;terms&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;types&quot;</span> <span class='p'>:</span> <span class='p'>[</span> <span class='s2'>&quot;locality&quot;</span><span class='p'>,</span> <span class='s2'>&quot;political&quot;</span><span class='p'>,</span> <span class='s2'>&quot;geocode&quot;</span> <span class='p'>]</span>
	  <span class='p'>},</span>
	  <span class='p'>{</span>
		 <span class='nt'>&quot;description&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;Fishersville, VA, United States&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;id&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;25c391688a6f5479f94f53231beac994f79e80bc&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;matched_substrings&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;reference&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;CkQ3A...&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;terms&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;types&quot;</span> <span class='p'>:</span> <span class='p'>[</span> <span class='s2'>&quot;locality&quot;</span><span class='p'>,</span> <span class='s2'>&quot;political&quot;</span><span class='p'>,</span> <span class='s2'>&quot;geocode&quot;</span> <span class='p'>]</span>
	  <span class='p'>},</span>
	  <span class='p'>{</span>
		 <span class='nt'>&quot;description&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;Fisherman&#39;s Wharf, San Francisco, CA, United States&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;id&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;e390dabe9db9ed93c37572ced9a94400f88f1ad4&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;matched_substrings&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;reference&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;ClRL...&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;terms&quot;</span> <span class='p'>:</span> <span class='p'>[</span><span class='err'>...</span><span class='p'>],</span>
		 <span class='nt'>&quot;types&quot;</span> <span class='p'>:</span> <span class='p'>[</span> <span class='s2'>&quot;neighborhood&quot;</span><span class='p'>,</span> <span class='s2'>&quot;political&quot;</span><span class='p'>,</span> <span class='s2'>&quot;geocode&quot;</span> <span class='p'>]</span>
	  <span class='p'>},</span>
	  <span class='err'>.....</span>
   <span class='p'>],</span>
   <span class='nt'>&quot;status&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;OK&quot;</span>
<span class='p'>}</span>
</code></pre></div>
<p>In order to model this using java we create the following value objects:</p>
<div class='highlight'><pre><code class='java'><span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>class</span> <span class='nc'>PlacesResult</span> <span class='o'>{</span>

	<span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;predictions&quot;</span><span class='o'>)</span>
	<span class='kd'>public</span> <span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Prediction</span><span class='o'>&gt;</span> <span class='n'>predictions</span><span class='o'>;</span>

  <span class='o'>}</span>

<span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>class</span> <span class='nc'>Prediction</span> <span class='o'>{</span>
  <span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;description&quot;</span><span class='o'>)</span>
  <span class='kd'>public</span> <span class='n'>String</span> <span class='n'>description</span><span class='o'>;</span>
  
  <span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;id&quot;</span><span class='o'>)</span>
  <span class='kd'>public</span> <span class='n'>String</span> <span class='n'>id</span><span class='o'>;</span>
  
<span class='o'>}</span>	  
</code></pre></div>
<p>This allows you to parse the response very easily</p>
<div class='highlight'><pre><code class='java'><span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Prediction</span><span class='o'>&gt;</span> <span class='n'>predictions</span> <span class='o'>=</span> <span class='n'>directionsResult</span><span class='o'>.</span><span class='na'>predictions</span><span class='o'>;</span>
<span class='k'>for</span> <span class='o'>(</span><span class='n'>Prediction</span> <span class='n'>prediction</span> <span class='o'>:</span> <span class='n'>predictions</span><span class='o'>)</span> <span class='o'>{</span>
	<span class='n'>resultList</span><span class='o'>.</span><span class='na'>add</span><span class='o'>(</span><span class='n'>prediction</span><span class='o'>.</span><span class='na'>description</span><span class='o'>);</span>
<span class='o'>}</span>
</code></pre></div>
<p>The complete code is pretty condensed and simple:</p>
<div class='highlight'><pre><code class='java'><span class='kd'>private</span> <span class='n'>ArrayList</span><span class='o'>&lt;</span><span class='n'>String</span><span class='o'>&gt;</span> <span class='nf'>autocomplete</span><span class='o'>(</span><span class='n'>String</span> <span class='n'>input</span><span class='o'>)</span> <span class='o'>{</span>
	<span class='n'>ArrayList</span><span class='o'>&lt;</span><span class='n'>String</span><span class='o'>&gt;</span> <span class='n'>resultList</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>ArrayList</span><span class='o'>&lt;</span><span class='n'>String</span><span class='o'>&gt;();</span>
	
	<span class='k'>try</span> <span class='o'>{</span>
	
		<span class='n'>HttpRequestFactory</span> <span class='n'>requestFactory</span> <span class='o'>=</span> <span class='n'>HTTP_TRANSPORT</span><span class='o'>.</span><span class='na'>createRequestFactory</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>HttpRequestInitializer</span><span class='o'>()</span> <span class='o'>{</span>
				 <span class='nd'>@Override</span>
				 <span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>initialize</span><span class='o'>(</span><span class='n'>HttpRequest</span> <span class='n'>request</span><span class='o'>)</span> <span class='o'>{</span>
					 <span class='n'>request</span><span class='o'>.</span><span class='na'>setParser</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>JsonObjectParser</span><span class='o'>(</span><span class='n'>JSON_FACTORY</span><span class='o'>));</span>
				 <span class='o'>}</span>
			 <span class='o'>}</span>
		<span class='o'>);</span>
		
		<span class='n'>GenericUrl</span> <span class='n'>url</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>GenericUrl</span><span class='o'>(</span><span class='n'>PLACES_API_BASE</span> <span class='o'>+</span> <span class='n'>TYPE_AUTOCOMPLETE</span> <span class='o'>+</span> <span class='n'>OUT_JSON</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;input&quot;</span><span class='o'>,</span> <span class='n'>input</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;key&quot;</span><span class='o'>,</span> <span class='n'>PLACES_API_KEY</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;sensor&quot;</span><span class='o'>,</span><span class='kc'>false</span><span class='o'>);</span>
 
		<span class='n'>HttpRequest</span> <span class='n'>request</span> <span class='o'>=</span> <span class='n'>requestFactory</span><span class='o'>.</span><span class='na'>buildGetRequest</span><span class='o'>(</span><span class='n'>url</span><span class='o'>);</span>
		<span class='n'>HttpResponse</span> <span class='n'>httpResponse</span> <span class='o'>=</span> <span class='n'>request</span><span class='o'>.</span><span class='na'>execute</span><span class='o'>();</span>
		<span class='n'>PlacesResult</span> <span class='n'>directionsResult</span> <span class='o'>=</span> <span class='n'>httpResponse</span><span class='o'>.</span><span class='na'>parseAs</span><span class='o'>(</span><span class='n'>PlacesResult</span><span class='o'>.</span><span class='na'>class</span><span class='o'>);</span>

		<span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Prediction</span><span class='o'>&gt;</span> <span class='n'>predictions</span> <span class='o'>=</span> <span class='n'>directionsResult</span><span class='o'>.</span><span class='na'>predictions</span><span class='o'>;</span>
		<span class='k'>for</span> <span class='o'>(</span><span class='n'>Prediction</span> <span class='n'>prediction</span> <span class='o'>:</span> <span class='n'>predictions</span><span class='o'>)</span> <span class='o'>{</span>
			<span class='n'>resultList</span><span class='o'>.</span><span class='na'>add</span><span class='o'>(</span><span class='n'>prediction</span><span class='o'>.</span><span class='na'>description</span><span class='o'>);</span>
		<span class='o'>}</span>
	<span class='o'>}</span> <span class='k'>catch</span> <span class='o'>(</span><span class='n'>Exception</span> <span class='n'>ex</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='n'>ex</span><span class='o'>.</span><span class='na'>printStackTrace</span><span class='o'>();</span>
	<span class='o'>}</span>
	<span class='k'>return</span> <span class='n'>resultList</span><span class='o'>;</span>
<span class='o'>}</span>	
</code></pre></div>
<h3 id='directions_api_call'>Directions API call</h3>

<p>The Directions API call use an AsyncTask to fetch the data in the background.</p>
<div class='highlight'><pre><code class='java'><span class='kd'>private</span> <span class='kd'>class</span> <span class='nc'>DirectionsFetcher</span> <span class='kd'>extends</span> <span class='n'>AsyncTask</span><span class='o'>&lt;</span><span class='n'>URL</span><span class='o'>,</span> <span class='n'>Integer</span><span class='o'>,</span> <span class='n'>String</span><span class='o'>&gt;</span> <span class='o'>{</span>
</code></pre></div>
<p>We define a list of LatLng objects that we&#8217;ll use to store our results</p>
<div class='highlight'><pre><code class='java'><span class='kd'>private</span> <span class='n'>List</span><span class='o'>&lt;</span><span class='n'>LatLng</span><span class='o'>&gt;</span> <span class='n'>latLngs</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>ArrayList</span><span class='o'>&lt;</span><span class='n'>LatLng</span><span class='o'>&gt;();</span>
</code></pre></div>
<p>And we&#8217;ll do the heavy lifting in the doInBackground method.</p>

<p>As this is a simple REST call, you can enter the following URL in your browser to see what it returns</p>

<pre><code>http://maps.googleapis.com/maps/api/directions/json?origin=Chicago,IL&amp;destination=Los%20Angeles,CA&amp;sensor=false</code></pre>

<p>Again, the GenericUrl object takes care of adding and properly encoding the query parameters.</p>
<div class='highlight'><pre><code class='java'>	
 <span class='n'>GenericUrl</span> <span class='n'>url</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>GenericUrl</span><span class='o'>(</span><span class='s'>&quot;http://maps.googleapis.com/maps/api/directions/json&quot;</span><span class='o'>);</span>
 <span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;origin&quot;</span><span class='o'>,</span> <span class='n'>origin</span><span class='o'>);</span>
 <span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;destination&quot;</span><span class='o'>,</span> <span class='n'>destination</span><span class='o'>);</span>
 <span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;sensor&quot;</span><span class='o'>,</span><span class='kc'>false</span><span class='o'>);</span>
</code></pre></div>
<p>We&#8217;ve again built our own java object model based on the Directions API REST response.</p>
<div class='highlight'><pre><code class='java'><span class='n'>DirectionsResult</span> <span class='n'>directionsResult</span> <span class='o'>=</span> <span class='n'>httpResponse</span><span class='o'>.</span><span class='na'>parseAs</span><span class='o'>(</span><span class='n'>DirectionsResult</span><span class='o'>.</span><span class='na'>class</span><span class='o'>);</span>
</code></pre></div>
<p>The Directions API returned a JSON string like this (removed the legs info for abbrevity.)</p>
<div class='highlight'><pre><code class='json'><span class='p'>{</span>
   <span class='nt'>&quot;routes&quot;</span> <span class='p'>:</span> <span class='p'>[</span>
	  <span class='p'>{</span>
		 <span class='nt'>&quot;bounds&quot;</span> <span class='p'>:</span> <span class='p'>{</span>
			<span class='nt'>&quot;northeast&quot;</span> <span class='p'>:</span> <span class='p'>{</span>
			   <span class='nt'>&quot;lat&quot;</span> <span class='p'>:</span> <span class='mf'>41.9054370</span><span class='p'>,</span>
			   <span class='nt'>&quot;lng&quot;</span> <span class='p'>:</span> <span class='mf'>-87.62978720</span>
			<span class='p'>},</span>
			<span class='nt'>&quot;southwest&quot;</span> <span class='p'>:</span> <span class='p'>{</span>
			   <span class='nt'>&quot;lat&quot;</span> <span class='p'>:</span> <span class='mf'>34.05236330</span><span class='p'>,</span>
			   <span class='nt'>&quot;lng&quot;</span> <span class='p'>:</span> <span class='mf'>-118.24356010</span>
			<span class='p'>}</span>
		 <span class='p'>},</span>
		 <span class='nt'>&quot;copyrights&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;Map data ©2013 Google&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;legs&quot;</span> <span class='p'>:</span> <span class='p'>[</span>
			<span class='err'>..</span> <span class='err'>legs</span> <span class='err'>info</span>
		 <span class='p'>],</span>
		 <span class='nt'>&quot;overview_polyline&quot;</span> <span class='p'>:</span> <span class='p'>{</span>
			<span class='nt'>&quot;points&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;eir~Fd...&quot;</span>
		 <span class='p'>},</span>
		 <span class='nt'>&quot;summary&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;I-80 W&quot;</span><span class='p'>,</span>
		 <span class='nt'>&quot;warnings&quot;</span> <span class='p'>:</span> <span class='p'>[],</span>
		 <span class='nt'>&quot;waypoint_order&quot;</span> <span class='p'>:</span> <span class='p'>[]</span>
	  <span class='p'>}</span>
   <span class='p'>],</span>
   <span class='nt'>&quot;status&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;OK&quot;</span>	
<span class='p'>}</span>
</code></pre></div>
<p>The Directions API always returns a single route if no alternatives are requested, so we know we need to search in the first route that is returned. Within that route, we are interested in the overview_polyline field that in turn contains a points field.</p>

<p>This points field contains an object holding an array of encoded points that represent an approximate (smoothed) path of the resulting directions.</p>
<div class='highlight'><pre><code class='java'><span class='n'>String</span> <span class='n'>encodedPoints</span> <span class='o'>=</span> <span class='n'>directionsResult</span><span class='o'>.</span><span class='na'>routes</span><span class='o'>.</span><span class='na'>get</span><span class='o'>(</span><span class='mi'>0</span><span class='o'>).</span><span class='na'>overviewPolyLine</span><span class='o'>.</span><span class='na'>points</span><span class='o'>;</span>
</code></pre></div>
<p>The following value object structure can be used to traverse the JSON path above. This is again implemented using a simple value object model.</p>
<div class='highlight'><pre><code class='java'><span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>class</span> <span class='nc'>DirectionsResult</span> <span class='o'>{</span>
	<span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;routes&quot;</span><span class='o'>)</span>
	<span class='kd'>public</span> <span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Route</span><span class='o'>&gt;</span> <span class='n'>routes</span><span class='o'>;</span>
<span class='o'>}</span>

<span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>class</span> <span class='nc'>Route</span> <span class='o'>{</span>
	<span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;overview_polyline&quot;</span><span class='o'>)</span>
	<span class='kd'>public</span> <span class='n'>OverviewPolyLine</span> <span class='n'>overviewPolyLine</span><span class='o'>;</span>
<span class='o'>}</span>

<span class='kd'>public</span> <span class='kd'>static</span> <span class='kd'>class</span> <span class='nc'>OverviewPolyLine</span> <span class='o'>{</span>
	<span class='nd'>@Key</span><span class='o'>(</span><span class='s'>&quot;points&quot;</span><span class='o'>)</span>
	<span class='kd'>public</span> <span class='n'>String</span> <span class='n'>points</span><span class='o'>;</span>
<span class='o'>}</span>
</code></pre></div>
<p>You can see how it maps to the following JSON structure</p>
<div class='highlight'><pre><code class='json'><span class='p'>{</span> <span class='nt'>&quot;routes&quot;</span> <span class='p'>:</span> <span class='p'>[</span>
	  <span class='p'>{</span>
		 <span class='nt'>&quot;overview_polyline&quot;</span> <span class='p'>:</span> <span class='p'>{</span>
			<span class='nt'>&quot;points&quot;</span> <span class='p'>:</span> <span class='s2'>&quot;eir~Fdezu...&quot;</span>
		 <span class='p'>}</span>
	  <span class='p'>}</span>
   <span class='p'>]</span>
<span class='p'>}</span>
</code></pre></div>
<p>The full code can be found here.</p>
<div class='highlight'><pre><code class='java'>	
<span class='kd'>protected</span> <span class='n'>String</span> <span class='nf'>doInBackground</span><span class='o'>(</span><span class='n'>URL</span><span class='o'>...</span> <span class='n'>urls</span><span class='o'>)</span> <span class='o'>{</span>
	<span class='k'>try</span> <span class='o'>{</span>
		<span class='n'>HttpRequestFactory</span> <span class='n'>requestFactory</span> <span class='o'>=</span> <span class='n'>HTTP_TRANSPORT</span><span class='o'>.</span><span class='na'>createRequestFactory</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>HttpRequestInitializer</span><span class='o'>()</span> <span class='o'>{</span>
		<span class='nd'>@Override</span>
		<span class='kd'>public</span> <span class='kt'>void</span> <span class='nf'>initialize</span><span class='o'>(</span><span class='n'>HttpRequest</span> <span class='n'>request</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='n'>request</span><span class='o'>.</span><span class='na'>setParser</span><span class='o'>(</span><span class='k'>new</span> <span class='n'>JsonObjectParser</span><span class='o'>(</span><span class='n'>JSON_FACTORY</span><span class='o'>));</span>
		<span class='o'>}</span>
		<span class='o'>});</span>

		<span class='n'>GenericUrl</span> <span class='n'>url</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>GenericUrl</span><span class='o'>(</span><span class='s'>&quot;http://maps.googleapis.com/maps/api/directions/json&quot;</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;origin&quot;</span><span class='o'>,</span> <span class='s'>&quot;Chicago,IL&quot;</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;destination&quot;</span><span class='o'>,</span> <span class='s'>&quot;Los Angeles,CA&quot;</span><span class='o'>);</span>
		<span class='n'>url</span><span class='o'>.</span><span class='na'>put</span><span class='o'>(</span><span class='s'>&quot;sensor&quot;</span><span class='o'>,</span><span class='kc'>false</span><span class='o'>);</span>

		<span class='n'>HttpRequest</span> <span class='n'>request</span> <span class='o'>=</span> <span class='n'>requestFactory</span><span class='o'>.</span><span class='na'>buildGetRequest</span><span class='o'>(</span><span class='n'>url</span><span class='o'>);</span>
		<span class='n'>HttpResponse</span> <span class='n'>httpResponse</span> <span class='o'>=</span> <span class='n'>request</span><span class='o'>.</span><span class='na'>execute</span><span class='o'>();</span>
		<span class='n'>DirectionsResult</span> <span class='n'>directionsResult</span> <span class='o'>=</span> <span class='n'>httpResponse</span><span class='o'>.</span><span class='na'>parseAs</span><span class='o'>(</span><span class='n'>DirectionsResult</span><span class='o'>.</span><span class='na'>class</span><span class='o'>);</span>
		<span class='n'>String</span> <span class='n'>encodedPoints</span> <span class='o'>=</span> <span class='n'>directionsResult</span><span class='o'>.</span><span class='na'>routes</span><span class='o'>.</span><span class='na'>get</span><span class='o'>(</span><span class='mi'>0</span><span class='o'>).</span><span class='na'>overviewPolyLine</span><span class='o'>.</span><span class='na'>points</span><span class='o'>;</span>
		<span class='n'>latLngs</span> <span class='o'>=</span> <span class='n'>PolyUtil</span><span class='o'>.</span><span class='na'>decode</span><span class='o'>(</span><span class='n'>encodedPoints</span><span class='o'>);</span>
	<span class='o'>}</span> <span class='k'>catch</span> <span class='o'>(</span><span class='n'>Exception</span> <span class='n'>ex</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='n'>ex</span><span class='o'>.</span><span class='na'>printStackTrace</span><span class='o'>();</span>
	<span class='o'>}</span>
	<span class='k'>return</span> <span class='kc'>null</span><span class='o'>;</span>
	<span class='o'>}</span>

	<span class='kd'>protected</span> <span class='kt'>void</span> <span class='nf'>onProgressUpdate</span><span class='o'>(</span><span class='n'>Integer</span><span class='o'>...</span> <span class='n'>progress</span><span class='o'>)</span> <span class='o'>{</span>
	<span class='o'>}</span>

	<span class='kd'>protected</span> <span class='kt'>void</span> <span class='nf'>onPostExecute</span><span class='o'>(</span><span class='n'>String</span> <span class='n'>result</span><span class='o'>)</span> <span class='o'>{</span>
		<span class='n'>clearMarkers</span><span class='o'>();</span>
		<span class='n'>addMarkersToMap</span><span class='o'>(</span><span class='n'>latLngs</span><span class='o'>);</span>
	<span class='o'>}</span>
<span class='o'>}</span>	
</code></pre></div>
<h3 id='references'>References</h3>

<ul>
<li><a title='Google HTTP Client Library for Java' href='http://code.google.com/p/google-http-java-client/'>Google HTTP Client Library for Java</a></li>

<li><a title='The Google Directions API' href='https://developers.google.com/maps/documentation/directions/'>The Google Directions API</a></li>

<li><a title='The Google Places API' href='https://developers.google.com/places/'>The Google Places API</a></li>

<li><a title='Places Autocomplete' href='https://developers.google.com/places/documentation/autocomplete'>Places Autocomplete</a></li>

<li><a title='Adding Autocomplete to your Android App' href='https://developers.google.com/places/training/autocomplete-android'>Adding Autocomplete to your Android App</a></li>

<li><a title='Google Maps Android API v2' href='https://developers.google.com/maps/documentation/android/'>Google Maps Android API v2</a></li>

<li><a title='Online JSON Editor' href='http://www.jsoneditoronline.org'>Online JSON Editor</a></li>
</ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Googlemapsv2withactionbarsherlock maintained by <a href="https://github.com/ddewaele">ddewaele</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
